---
title: "内核是如何被加载的"
date: 2022-06-19T18:06:51+08:00
lastmod: 2022-05-11T20:02:48+08:00
categories: ["~/share/helloworld/docs/基础学习"]
tags: ["~/share/helloworld/docs/基础学习"]
author: "lyr"
draft: false
images: ["https://api.mtyqx.cn/api/random.php"]

---


## 内核是如何被加载的？



需要编译的时候指定 程序开始的位置， 然后 通过 loader 去读取内存的位置，并且执行指令

```bash
	nasm -I ./boot/include -o ./loader.bin ./boot/loader.s
	nasm -I ./boot/include -o ./mbr.bin ./boot/mbr.s
	nasm -f elf -o print.o ./lib/kernel/print.s
	gcc -I lib    -m32 -c -o ./main.o ./kernel/main.c
	ld -m elf_i386 -Ttext 0xc0001500 -e main -o kernel.bin main.o print.o

# 这里就是通过 -Ttext 指定 c内核地址是 0x1500 ,然后 loader 执行的时候跳到对应的位置执行指令

```





