---
title: "参考的教程"
date: 2022-06-16T22:42:52+08:00
lastmod: 2022-05-11T20:02:48+08:00
categories: ["docs"]
tags: ["docs"]
author: "lyr"
draft: false
images: ["https://api.mtyqx.cn/api/random.php"]

---




[参考这个 up主的教程](https://www.bilibili.com/video/BV1UY4y1H74v?spm_id_from=333.999.0.0&vd_source=5680f9cc1e793f7b70191c94d5552ecb)

[先看第一个up主的，再看这个](https://www.bilibili.com/video/BV1RY41157Ka/?spm_id_from=333.788&vd_source=5680f9cc1e793f7b70191c94d5552ecb)



[wiki百科](https://en.wikipedia.org/wiki/INT_10H#:~:text=List%20of%20supported%20functions%20%20%20%20Function,End%20s%20...%20%2017%20more%20rows%20)


ah 是一个功能号

al,ah 分别是 ax的 low 和 hight 两个位置



写好的bochspre文件夹在下面

链接：https://pan.baidu.com/s/15MVuz44c_0L_8n9kA-KFKg
提取码：onhf


链接：https://pan.baidu.com/s/12VM8675yoIVqwM4-yRxIPQ

提取码：bgel


## bochs 虚拟机安装

[下载链接](https://sourceforge.net/projects/bochs/)




## 汇编基础

```s
; int 10h  https://en.wikipedia.org/wiki/INT_10H

SECTION MBR vstart=0x7c00

mov ah,0x6
mov al,0x0
; ah al 都是 al 的高低位， 用来设置功能标记位， 可以看看int 10h 定义的功能类型都有哪些

; bh 可以用来设置属性，都可以在上面那个链接上面看到规则
```


## makefile 基础教程

略




## 可以参考学习的资料

[github 项目笔记](https://github.com/doctording/os)

操作系统真象还原 这本书



## 从汇编加载 c语言代码最关键的三步

```asm

KERNEL_BIN_BASE_ADDR equ 0x70000
KERNEL_START_SECTOR equ 0x9
KERNEL_ENTRY_POINT equ 0xc0001500
; 定义 1500 为 kernel入口

;enter kernel
enter_kernel:    
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
   call kernel_init
   mov esp, 0xc009f000
   jmp KERNEL_ENTRY_POINT                 ; 用地址0x1500访问测试，结果ok


```

编译的时候指定入口地址

```shell
nasm -f elf -o ./lib/print.o  ./lib/print.s
gcc -m32 -I ./lib -c -o ./kernel/main.o ./kernel/main.c
ld -m elf_i386 -Ttext 0xc0001500 -e main -o kernel.bin kernel/main.o lib/print.o

# 编译的时候指定 1500为入口，这样就可以调用 main函数了 

```



## 堆栈
栈： 后进先出
- 栈顶指针是在 `ss:esp` 寄存器中，栈底在高位置，向下增长
















